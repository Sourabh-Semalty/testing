const { subscribe } = require('../pubsub/subscribe');

const TEST_TOPIC = 'ccart-dev/subscriptions/gapi-lite-test';

subscribe(TEST_TOPIC, logFn, { concurrency: 4, execTimeout: 15000 });

async function logFn(data) {
  console.log('start ->> ', data.message);
  await sleep(10000);
  console.log('end ->> ', data.message);
}
async function sleep(delay) {
  return new Promise(resolve => setTimeout(resolve, delay));
}
